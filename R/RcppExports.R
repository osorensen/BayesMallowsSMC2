# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' Precompute All Topological Sorts
#'
#' This function precomputes all topological sorts for a given preference matrix and
#' saves them to a specified output directory. It ensures the output directory exists
#' and creates it if it does not.
#'
#' @param prefs A matrix representing the preference relations. This matrix
#'   must have two columns, the first of which represents the preferred item
#'   and the second of which represents the disfavored item.
#' @param n_items An integer specifying the number of items to sort.
#' @param save_frac Number between 0 and 1 specifying which fraction of sorts to save.
#'
#' @details
#' The function generates all possible topological sorts for the provided preference matrix
#' and saves approximately `save_frac` of the sorts in a matrix which is returned.
#'
#' @return A list containing the number of topological sorts and optionally a matrix of sorts.
#'
#' @export
#' @examples
#' # Create simple preference data: item 1 > item 2 > item 3
#' prefs <- matrix(c(1, 2, 2, 3), ncol = 2, byrow = TRUE)
#' colnames(prefs) <- c("top_item", "bottom_item")
#'
#' # Generate all topological sorts, but don't save them:
#' sorts <- precompute_topological_sorts(
#'   prefs = prefs,
#'   n_items = 3,
#'   save_frac = 0
#' )
#' # Number of sorts
#' sorts$sort_count
#' # Empty matrix
#' sorts$sort_matrix
#'
#' # Generate all topological sorts and save them:
#' sorts <- precompute_topological_sorts(
#'   prefs = prefs,
#'   n_items = 3,
#'   save_frac = 1
#' )
#' # Number of sorts
#' sorts$sort_count
#' # Matrix with all of them
#' sorts$sort_matrix
#'
precompute_topological_sorts <- function(prefs, n_items, save_frac) {
    .Call(`_BayesMallowsSMC2_precompute_topological_sorts`, prefs, n_items, save_frac)
}

#' Run Sequential Monte Carlo Algorithm (Internal Function)
#'
#' This is an internal function that implements the core SMCÂ² algorithm.
#' Users should typically use \code{\link{compute_sequentially}} instead.
#'
#' @param input_timeseries List of time series data.
#' @param input_prior List of prior parameters.
#' @param input_options List of algorithm options.
#' @param input_sort_matrices List of precomputed sort matrices.
#' @param input_sort_counts List of precomputed sort counts.
#'
#' @return List containing SMC algorithm results.
#' @keywords internal
run_smc <- function(input_timeseries, input_prior, input_options, input_sort_matrices, input_sort_counts) {
    .Call(`_BayesMallowsSMC2_run_smc`, input_timeseries, input_prior, input_options, input_sort_matrices, input_sort_counts)
}

